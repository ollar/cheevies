{{!-- <ProfileAnimationWrapper @_cheeviesPromise={{_cheeviesPromise}}> --}}
<section class="center-wrapper {{if this.isMe 'is-me'}}">
<div class="user-image-wrapper {{if this.busy 'busy'}}">
    {{#unless this.isMe}}
        <IconImage @data={{this.model}} @image={{this.avatar}} @class="user-image" />
    {{else}}
        <ImagesDropArea @images={{this.model.imageUrl}} @uploadImage={{this.uploadImage}}>
        <IconImage @data={{this.model}} @image={{this.avatar}} @class="user-image" />
        {{#if this.isMe}}
            {{#if this.model.imageUrl}}
            <button class="icon-image delete" {{on 'click' this.removeImage}}>
                <SvgIcon @_name="x" @_size={{24}} @_title={{t "icons.remove"}} @class="h-center bottom" />
            </button>
            {{/if}}
        {{/if}}
        </ImagesDropArea>
        <a class="input-click-handler" {{on 'click' this.handleInputClick}}></a>
    {{/unless}}

  <div class="experience">
    {{cheevie-exp this.cheevies}}
  </div>
</div>

<h1 class="name">
  {{#if this.isMe}}
    <Input @type="text" @value={{this.model.username}} class="psevdo-title" />
  {{else}}
    {{this.model.username}}
  {{/if}}
</h1>

<div class="cheevies grid-wrapper-3">
  {{#each this.cheevies as |cheevie|}}
    <div class="cheevie-wrapper" id={{cheevie.id}} {{on 'click' (fn this.cheevieDetails cheevie)}}>
      <CheevieInList @cheevie={{cheevie}} />
    </div>
  {{else}}
    <div class="empty-placeholder">
      {{t 'you-have-no-cheevies-yet'}}
    </div>
  {{/each}}

  {{#each this.cheevies as |cheevie|}}
    <ItemHint @data={{cheevie}} @id={{add cheevie.id "_hint"}}>
      {{#if isMe}}
        <button class="icon-button delete" {{on 'click' (fn this.refuseCheevie cheevie)}}>
          <SvgIcon @_name="trash-2" @_size={{18}} @_title={{t "icons.refuse"}} @class="v-center left" />
        </button>
      {{/if}}

      {{#if this.isShareAvailable}}
      {{#if this.isMe}}
        <button class="icon-button share" {{on click (fn this.shareCheevie cheevie)}}>
          <SvgIcon @_name="share-2" @_size={{18}} @_title={{t "icons.share"}} @class="v-center left" />
        </button>
      {{/if}}
      {{/if}}
    </ItemHint>
  {{/each}}
</div>
</section>
{{!-- </ProfileAnimationWrapper> --}}

{{#if this.openPopper}}
  <div class="card-content-overlay" {{on 'click' this.closeCheevieDetails}}></div>
{{/if}}

{{#unless this.isMe}}
  <footer>
    <button class="icon-button give-cheevie" {{on 'click' this.showCheeviesPicker}}>
      <SvgIcon @_name="award" @_size={{24}} @_title={{t "icons.reward"}} @class="h-center bottom" />
    </button>
  </footer>
{{/unless}}

{{outlet}}
